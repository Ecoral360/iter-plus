"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.mapErr = exports.mapOk = exports.flatMapResults = exports.mapResults = exports.isErr = exports.isOk = exports.Err = exports.Ok = void 0;
const Ok = (ok) => ({ ok });
exports.Ok = Ok;
const Err = (err) => ({ err });
exports.Err = Err;
const isOk = (result) => 'ok' in result;
exports.isOk = isOk;
const isErr = (result) => 'err' in result;
exports.isErr = isErr;
const mapResults = (arr, fn) => {
    const oks = [];
    for (const el of arr) {
        const val = fn(el);
        if ('err' in val)
            return val;
        oks.push(val.ok);
    }
    return (0, exports.Ok)(oks);
};
exports.mapResults = mapResults;
const flatMapResults = (arr, fn) => {
    const oks = [];
    for (const el of arr) {
        const val = fn(el);
        if ('err' in val)
            return val;
        oks.push(val.ok);
    }
    return (0, exports.Ok)(oks.flat());
};
exports.flatMapResults = flatMapResults;
const mapOk = (result, fn) => {
    if ((0, exports.isOk)(result))
        return (0, exports.Ok)(fn(result.ok));
    return result;
};
exports.mapOk = mapOk;
const mapErr = (result, fn) => {
    if ((0, exports.isErr)(result))
        return (0, exports.Err)(fn(result.err));
    return result;
};
exports.mapErr = mapErr;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVzdWx0LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL2xpYi9yZXN1bHQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBS08sTUFBTSxFQUFFLEdBQUcsQ0FBTyxFQUFLLEVBQWdCLEVBQUUsQ0FBQyxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQztBQUE3QyxRQUFBLEVBQUUsTUFBMkM7QUFDbkQsTUFBTSxHQUFHLEdBQUcsQ0FBTyxHQUFNLEVBQWdCLEVBQUUsQ0FBQyxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQztBQUFoRCxRQUFBLEdBQUcsT0FBNkM7QUFFdEQsTUFBTSxJQUFJLEdBQUcsQ0FBTyxNQUFvQixFQUF1QixFQUFFLENBQ3RFLElBQUksSUFBSSxNQUFNLENBQUM7QUFESixRQUFBLElBQUksUUFDQTtBQUVWLE1BQU0sS0FBSyxHQUFHLENBQU8sTUFBb0IsRUFBd0IsRUFBRSxDQUN4RSxLQUFLLElBQUksTUFBTSxDQUFDO0FBREwsUUFBQSxLQUFLLFNBQ0E7QUFFWCxNQUFNLFVBQVUsR0FBRyxDQUN4QixHQUFRLEVBQ1IsRUFBMkIsRUFDWCxFQUFFO0lBQ2xCLE1BQU0sR0FBRyxHQUFHLEVBQUUsQ0FBQztJQUNmLEtBQUssTUFBTSxFQUFFLElBQUksR0FBRyxFQUFFLENBQUM7UUFDckIsTUFBTSxHQUFHLEdBQUcsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ25CLElBQUksS0FBSyxJQUFJLEdBQUc7WUFBRSxPQUFPLEdBQUcsQ0FBQztRQUM3QixHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQztJQUNuQixDQUFDO0lBQ0QsT0FBTyxJQUFBLFVBQUUsRUFBQyxHQUFHLENBQUMsQ0FBQztBQUNqQixDQUFDLENBQUM7QUFYVyxRQUFBLFVBQVUsY0FXckI7QUFFSyxNQUFNLGNBQWMsR0FBRyxDQUM1QixHQUFRLEVBQ1IsRUFBNkIsRUFDYixFQUFFO0lBQ2xCLE1BQU0sR0FBRyxHQUFHLEVBQUUsQ0FBQztJQUNmLEtBQUssTUFBTSxFQUFFLElBQUksR0FBRyxFQUFFLENBQUM7UUFDckIsTUFBTSxHQUFHLEdBQUcsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ25CLElBQUksS0FBSyxJQUFJLEdBQUc7WUFBRSxPQUFPLEdBQUcsQ0FBQztRQUM3QixHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQztJQUNuQixDQUFDO0lBQ0QsT0FBTyxJQUFBLFVBQUUsRUFBQyxHQUFHLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQztBQUN4QixDQUFDLENBQUM7QUFYVyxRQUFBLGNBQWMsa0JBV3pCO0FBRUssTUFBTSxLQUFLLEdBQUcsQ0FDbkIsTUFBb0IsRUFDcEIsRUFBaUIsRUFDRixFQUFFO0lBQ2pCLElBQUksSUFBQSxZQUFJLEVBQUMsTUFBTSxDQUFDO1FBQUUsT0FBTyxJQUFBLFVBQUUsRUFBQyxFQUFFLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDM0MsT0FBTyxNQUFNLENBQUM7QUFDaEIsQ0FBQyxDQUFDO0FBTlcsUUFBQSxLQUFLLFNBTWhCO0FBRUssTUFBTSxNQUFNLEdBQUcsQ0FDcEIsTUFBb0IsRUFDcEIsRUFBa0IsRUFDSCxFQUFFO0lBQ2pCLElBQUksSUFBQSxhQUFLLEVBQUMsTUFBTSxDQUFDO1FBQUUsT0FBTyxJQUFBLFdBQUcsRUFBQyxFQUFFLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7SUFDOUMsT0FBTyxNQUFNLENBQUM7QUFDaEIsQ0FBQyxDQUFDO0FBTlcsUUFBQSxNQUFNLFVBTWpCIn0=